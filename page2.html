<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billie Eilish | Interactive Tickets</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            background-color: #050a12; 
            color: #e2e8f0; 
            /* UPDATE: Menggunakan new background 7.jpg */
            background-image: linear-gradient(to bottom, rgba(5, 10, 18, 0.7), rgba(5, 10, 18, 0.85)), url('new background 7.jpg'); 
            background-size: cover; 
            background-position: center; 
            background-attachment: fixed;
            min-height: 100vh; 
            overflow-x: hidden; 
        }
        
        .glass { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); }
        
        /* Seat Styling */
        .seat { 
            width: 14px; height: 14px; 
            border-radius: 4px; 
            cursor: pointer; 
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); 
            font-size: 7px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            position: absolute; 
            color: transparent;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        .seat:hover { 
            transform: scale(1.5) translateY(-2px); 
            color: white; 
            z-index: 50 !important; 
            box-shadow: 0 0 15px rgba(56, 189, 248, 0.8);
        }
        .seat.selected { 
            background: #fbbf24 !important; 
            color: black !important; 
            box-shadow: 0 0 20px #fbbf24; 
            transform: scale(1.3);
            border: 2px solid white;
        }

        .stage-box { 
            width: 40%; height: 60px; 
            background: #38bdf8; 
            margin: 0 auto; 
            border-radius: 0 0 50px 50px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: 900; 
            color: black; 
            box-shadow: 0 10px 40px rgba(56, 189, 248, 0.3); 
        }
        
        #seats-container { 
            position: relative; 
            width: 100%; 
            height: 500px; 
            overflow: hidden; 
            border-radius: 20px;
        }

        .concert-ticket {
            width: 100%;
            max-width: 900px;
            height: 315px;
            margin: 0 auto;
            background-image: url('new ticket.jpg');
            background-size: cover;
            background-position: center;
            border-radius: 12px;
            position: relative;
            color: white;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .ticket-data-overlay {
            position: absolute;
            bottom: 45px;
            left: 65px;
            display: flex;
            gap: 60px;
            align-items: flex-end;
        }

        .data-item .label { font-size: 10px; text-transform: uppercase; font-weight: bold; opacity: 0.8; margin-bottom: 5px; letter-spacing: 1px; }
        .data-item .value { font-size: 32px; font-weight: 900; line-height: 1; }

        @media print { 
            .no-print { display: none !important; } 
            #ticket-ui { display: block !important; padding: 0; }
            body { background: white !important; }
            .concert-ticket { box-shadow: none; -webkit-print-color-adjust: exact; margin-bottom: 50px; page-break-inside: avoid; }
        }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(56, 189, 248, 0.3); border-radius: 10px; }
    </style>
</head>
<body>

    <nav class="w-full py-6 px-10 glass flex flex-col md:flex-row justify-between items-center sticky top-0 z-50 no-print">
        <div class="text-xl italic tracking-tighter font-black uppercase">Billie Eilish</div>
        
        <div class="flex space-x-8 text-[10px] tracking-widest uppercase font-bold">
            <a href="page1.html" class="hover:text-sky-400 transition">Home</a>
            <a href="#" class="underline underline-offset-8 decoration-sky-500 text-sky-400">Tickets</a>
            <a href="page3.html" class="hover:text-sky-400 transition">Merchandise</a>
            <a href="page4.html" class="hover:text-sky-400 transition">Media</a>
        </div>

       <p><audio controls autoplay>
        <source src="birds of a feather song.mp3" type="audio/mpeg">
        </audio></p>
    </nav>

    <section id="selection-screen" class="py-10 px-6 max-w-7xl mx-auto text-center no-print">
        <h2 class="text-5xl font-black italic mb-4 uppercase tracking-tighter text-white">BUY YOUR TICKET NOW</h2>
        
        <div class="mb-10 max-w-2xl mx-auto rounded-3xl overflow-hidden border border-white/10 shadow-2xl">
            <p class="text-[9px] tracking-[0.4em] uppercase opacity-40 mb-3">Venue Layout Map</p>
            <img src="concert seat full1.jpg" alt="Concert Seat Map" class="w-full h-auto">
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            <div class="lg:col-span-3 glass rounded-[40px] p-8 min-h-[700px] flex flex-col bg-black/60 border-white/20">
                <div class="stage-box uppercase tracking-[0.8em] text-xs mb-12">Stage</div>
                
                <div id="zone-selector" class="grid grid-cols-2 md:grid-cols-3 gap-4 mt-10">
                    <button onclick="loadZone('A')" class="bg-[#8b2d2d] hover:scale-105 transition p-6 rounded-2xl font-black text-white border-b-4 border-red-900">ZONE A<br><span class="opacity-60 text-[10px]">RM798</span></button>
                    <button onclick="loadZone('B')" class="bg-[#e68a00] hover:scale-105 transition p-6 rounded-2xl font-black text-white border-b-4 border-orange-900">ZONE B<br><span class="opacity-60 text-[10px]">RM648</span></button>
                    <button onclick="loadZone('C')" class="bg-[#2d8b4a] hover:scale-105 transition p-6 rounded-2xl font-black text-white border-b-4 border-green-900">ZONE C<br><span class="opacity-60 text-[10px]">RM538</span></button>
                    <button onclick="loadZone('D')" class="bg-[#5c5c5c] hover:scale-105 transition p-6 rounded-2xl font-black text-white border-b-4 border-gray-800">ZONE D<br><span class="opacity-60 text-[10px]">RM448</span></button>
                    <button onclick="loadZone('E')" class="bg-[#1a4d8c] hover:scale-105 transition p-6 rounded-2xl font-black text-white border-b-4 border-blue-900">ZONE E<br><span class="opacity-60 text-[10px]">RM368</span></button>
                    <button onclick="loadZone('F')" class="bg-[#4d94ff] hover:scale-105 transition p-6 rounded-2xl font-black text-white border-b-4 border-sky-800">ZONE F<br><span class="opacity-60 text-[10px]">RM298</span></button>
                </div>

                <div id="seat-map" class="hidden flex-1 flex flex-col">
                    <div class="flex justify-between items-center mb-6">
                        <button onclick="closeZone()" class="bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full text-[10px] font-black tracking-widest transition">← BACK TO ZONES</button>
                        <h3 id="zone-title" class="text-2xl font-black italic text-sky-400"></h3>
                        <div class="flex gap-4 text-[9px] uppercase font-bold opacity-60">
                            <div class="flex items-center gap-1"><div class="w-3 h-3 bg-gray-500 rounded-sm"></div> Available</div>
                            <div class="flex items-center gap-1"><div class="w-3 h-3 bg-[#fbbf24] rounded-sm"></div> Selected</div>
                        </div>
                    </div>
                    <div id="seats-container" class="bg-black/40 border border-white/5 shadow-inner grow relative"></div>
                </div>
            </div>

            <div class="glass rounded-[40px] p-8 text-left flex flex-col sticky top-24 h-[650px] border-sky-500/30">
                <h3 class="font-black italic mb-6 border-b border-white/10 pb-4 uppercase text-sm tracking-widest text-sky-400">My Selection</h3>
                <div id="cart-items" class="flex-1 space-y-3 overflow-y-auto pr-2 custom-scrollbar text-[10px]">
                    <p class="opacity-30 italic text-center py-20">Select your seats...</p>
                </div>
                <div class="border-t border-white/10 pt-6 mt-4">
                    <div class="flex justify-between items-end mb-6">
                        <span class="text-[10px] opacity-50 font-bold uppercase">Total Amount</span>
                        <span class="text-3xl font-black text-white">RM <span id="total-price">0</span></span>
                    </div>
                    <button onclick="checkout()" class="w-full bg-sky-500 hover:bg-sky-400 py-5 rounded-2xl font-black uppercase text-xs tracking-[0.3em] transition-all active:scale-95 shadow-lg shadow-sky-500/20">Checkout Now</button>
                </div>
            </div>
        </div>
    </section>

    <section id="ticket-ui" class="hidden py-10 px-6 max-w-5xl mx-auto no-print text-center">
        <div class="mb-10">
            <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 13l4 4L19 7"></path></svg>
            </div>
            <h2 class="text-3xl font-black italic uppercase">Booking Successful!</h2>
            <p id="order-id" class="text-sky-400 font-mono text-xs mt-1 opacity-70 uppercase"></p>
        </div>
        <div id="ticket-container" class="space-y-8"></div>
        <div class="mt-12">
            <button onclick="window.print()" class="bg-white text-black px-12 py-4 rounded-full font-black uppercase text-xs tracking-widest hover:bg-sky-400 transition">Print PDF Tickets</button>
        </div>
    </section>

    <div class="flex gap-4 justify-center my-20 no-print">
        <a href="page1.html" class="bg-white/10 border border-white/20 hover:bg-white/20 text-white px-12 py-4 rounded-full font-bold transition uppercase tracking-widest text-xs">BACK</a>
        <a href="page3.html" class="bg-sky-500 hover:bg-sky-400 text-white px-12 py-4 rounded-full font-bold transition uppercase tracking-widest text-xs shadow-lg shadow-sky-500/20">NEXT: MERCHANDISE</a>
    </div>

    <footer class="py-10 text-center border-t border-white/5 opacity-50">
        <div class="text-[10px] tracking-[0.4em] uppercase font-medium space-y-2">
            <p>Darkroom / Interscope Records</p>
            <p class="text-sky-400">Organized by DTR Nation</p>
            <p class="mt-4 opacity-40">© 2026 Billie Eilish</p>
        </div>
    </footer>

    <script>
        const cart = [];
        const config = {
            'A': { price: 798, color: '#8b2d2d', type: 'box', rows: 8, cols: 16 },
            'B': { price: 648, color: '#e68a00', type: 'box', rows: 8, cols: 16 },
            'C': { price: 538, color: '#2d8b4a', type: 'box', rows: 8, cols: 16 },
            'D': { price: 448, color: '#5c5c5c', type: 'arc', radius: 160, rows: 5, cols: 25 },
            'E': { price: 368, color: '#1a4d8c', type: 'arc', radius: 240, rows: 6, cols: 35 },
            'F': { price: 298, color: '#4d94ff', type: 'arc', radius: 320, rows: 7, cols: 45 }
        };

        function loadZone(zoneKey) {
            document.getElementById('zone-selector').classList.add('hidden');
            const map = document.getElementById('seat-map');
            map.classList.remove('hidden');
            document.getElementById('zone-title').innerText = `ZONE ${zoneKey}`;
            
            const container = document.getElementById('seats-container');
            container.innerHTML = '';
            
            const c = config[zoneKey];
            const centerX = container.offsetWidth / 2;
            const centerY = (c.type === 'box') ? 40 : -40; 

            if(c.type === 'box') {
                for(let r=1; r<=c.rows; r++) {
                    for(let col=1; col<=c.cols; col++) {
                        const x = centerX - (c.cols * 11) + (col * 22) - 11;
                        const y = centerY + (r * 25);
                        createSeat(container, x, y, zoneKey, r, col);
                    }
                }
            } else {
                for(let r=1; r<=c.rows; r++) {
                    const rowRadius = c.radius + (r * 30);
                    const seatsInRow = c.cols + (r * 2); 
                    const angleStep = Math.PI / (seatsInRow + 1);
                    for(let col=1; col<=seatsInRow; col++) {
                        const angle = Math.PI - (angleStep * col); 
                        const x = centerX + Math.cos(angle) * rowRadius;
                        const y = centerY + Math.sin(angle) * (rowRadius * 0.8) + 100;
                        if (x > 20 && x < container.offsetWidth - 20 && y < container.offsetHeight - 20) {
                            createSeat(container, x, y, zoneKey, r, col);
                        }
                    }
                }
            }
        }

        function createSeat(container, x, y, zone, r, c) {
            const seat = document.createElement('div');
            const id = `${zone}-${r}-${c}`;
            const isSelected = cart.some(s => s.id === id);
            seat.className = `seat ${isSelected ? 'selected' : ''}`;
            seat.style.left = `${x}px`;
            seat.style.top = `${y}px`;
            seat.style.backgroundColor = isSelected ? '#fbbf24' : config[zone].color;
            seat.innerText = c;
            seat.onclick = (e) => {
                e.stopPropagation();
                const idx = cart.findIndex(s => s.id === id);
                if(idx > -1) { 
                    cart.splice(idx, 1); 
                    seat.classList.remove('selected');
                    seat.style.backgroundColor = config[zone].color;
                } else {
                    if(cart.length >= 6) return alert("Maximum 6 tickets allowed.");
                    cart.push({ id, zone, price: config[zone].price, r, c });
                    seat.classList.add('selected');
                    seat.style.backgroundColor = '#fbbf24';
                }
                updateCart();
            };
            container.appendChild(seat);
        }

        function updateCart() {
            const list = document.getElementById('cart-items');
            const total = document.getElementById('total-price');
            let sum = 0;
            if(cart.length === 0) {
                list.innerHTML = '<p class="opacity-30 italic text-center py-20">Select your seats...</p>';
            } else {
                list.innerHTML = '';
                cart.forEach(s => {
                    sum += s.price;
                    list.innerHTML += `
                        <div class="flex justify-between items-center bg-white/5 p-4 rounded-2xl border border-white/5">
                            <div>
                                <p class="font-black text-sky-400 uppercase tracking-tighter">ZONE ${s.zone}</p>
                                <p class="opacity-50 text-[8px] uppercase font-bold">Row ${s.r} • Seat ${s.c}</p>
                            </div>
                            <span class="font-bold text-white">RM${s.price}</span>
                        </div>`;
                });
            }
            total.innerText = sum.toLocaleString();
        }

        function closeZone() { 
            document.getElementById('seat-map').classList.add('hidden'); 
            document.getElementById('zone-selector').classList.remove('hidden'); 
        }

        function checkout() {
            if(cart.length === 0) return alert("Your cart is empty!");
            if(confirm(`Proceed to payment for RM${document.getElementById('total-price').innerText}?`)) {
                document.getElementById('selection-screen').classList.add('hidden');
                document.getElementById('ticket-ui').classList.remove('hidden');
                const orderId = "BE-" + Math.random().toString(36).substr(2, 9).toUpperCase();
                document.getElementById('order-id').innerText = "Order Reference: #" + orderId;
                const ticketContainer = document.getElementById('ticket-container');
                ticketContainer.innerHTML = '';
                cart.forEach(s => {
                    ticketContainer.innerHTML += `
                        <div class="concert-ticket">
                            <div class="ticket-data-overlay">
                                <div class="data-item"><div class="label">Gate</div><div class="value">12</div></div>
                                <div class="data-item"><div class="label">Zone</div><div class="value">${s.zone}</div></div>
                                <div class="data-item"><div class="label">Row</div><div class="value">${s.r}</div></div>
                                <div class="data-item"><div class="label">Seat</div><div class="value">${s.c}</div></div>
                            </div>
                        </div>`;
                });
                window.scrollTo(0,0);
            }
        }
    </script>
</body>
</html>