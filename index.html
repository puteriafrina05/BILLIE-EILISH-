<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billie Eilish | Interactive Tickets</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            background-color: #050a12; 
            color: #e2e8f0; 
            background: linear-gradient(to bottom, rgba(5, 10, 18, 0.95), rgba(5, 10, 18, 0.95)), url('new background 2.jpg'); 
            background-size: cover; 
            background-position: center; 
            min-height: 100vh; 
            overflow-x: hidden; 
        }
        .glass { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); }
        .seat { 
            width: 14px; height: 14px; border-radius: 4px; cursor: pointer; 
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); font-size: 7px; 
            display: flex; align-items: center; justify-content: center; position: absolute; 
            color: transparent; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        .seat:hover { transform: scale(1.5) translateY(-2px); color: white; z-index: 50 !important; box-shadow: 0 0 15px rgba(56, 189, 248, 0.8); }
        .seat.selected { background: #fbbf24 !important; color: black !important; box-shadow: 0 0 20px #fbbf24; transform: scale(1.3); border: 2px solid white; }
        .stage-box { width: 40%; height: 60px; background: #38bdf8; margin: 0 auto; border-radius: 0 0 50px 50px; display: flex; align-items: center; justify-content: center; font-weight: 900; color: black; box-shadow: 0 10px 40px rgba(56, 189, 248, 0.3); }
        #seats-container { position: relative; width: 100%; height: 500px; overflow: hidden; border-radius: 20px; }
        .concert-ticket { width: 100%; max-width: 900px; height: 315px; margin: 0 auto; background-image: url('ticket.jpg'); background-size: cover; background-position: center; border-radius: 12px; position: relative; color: white; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
        .ticket-data-overlay { position: absolute; bottom: 45px; left: 65px; display: flex; gap: 60px; align-items: flex-end; }
        .data-item .label { font-size: 10px; text-transform: uppercase; font-weight: bold; opacity: 0.8; margin-bottom: 5px; letter-spacing: 1px; }
        .data-item .value { font-size: 32px; font-weight: 900; line-height: 1; }
        input, select { background: rgba(255, 255, 255, 0.05) !important; color: white !important; border: 1px solid rgba(255,255,255,0.1) !important; padding: 12px; border-radius: 12px; width: 100%; outline: none; }
        @media print { .no-print { display: none !important; } #ticket-ui { display: block !important; padding: 0; } body { background: white !important; } .concert-ticket { box-shadow: none; -webkit-print-color-adjust: exact; margin-bottom: 50px; page-break-inside: avoid; } }
    </style>
</head>
<body>
    <nav class="w-full py-6 px-10 glass flex justify-between items-center sticky top-0 z-50 no-print">
        <div class="text-xl italic font-black uppercase">Billie Eilish</div>
        <div class="flex space-x-8 text-[10px] tracking-widest uppercase font-bold">
            <a href="page1.html">Home</a>
            <a href="#" class="text-sky-400">Tickets</a>
            <a href="page3.html">Merchandise</a>
            <a href="page4.html">Media</a>
        </div>
        <audio id="bgMusic" loop autoplay><source src="birds of a feather song.mp3" type="audio/mpeg"></audio>
    </nav>

    <section id="selection-screen" class="py-10 px-6 max-w-7xl mx-auto text-center no-print">
        <h2 class="text-5xl font-black italic mb-4 uppercase tracking-tighter">Interactive Seating</h2>
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            <div class="lg:col-span-3 glass rounded-[40px] p-8 min-h-[700px] flex flex-col bg-black/60">
                <div class="stage-box uppercase tracking-[0.8em] text-xs mb-12">Stage</div>
                <div id="zone-selector" class="grid grid-cols-2 md:grid-cols-3 gap-4 mt-10">
                    <button onclick="loadZone('A')" class="bg-[#8b2d2d] p-6 rounded-2xl font-black">ZONE A<br><span class="opacity-60 text-[10px]">RM798</span></button>
                    <button onclick="loadZone('B')" class="bg-[#e68a00] p-6 rounded-2xl font-black">ZONE B<br><span class="opacity-60 text-[10px]">RM648</span></button>
                    <button onclick="loadZone('C')" class="bg-[#2d8b4a] p-6 rounded-2xl font-black">ZONE C<br><span class="opacity-60 text-[10px]">RM538</span></button>
                    <button onclick="loadZone('D')" class="bg-[#5c5c5c] p-6 rounded-2xl font-black">ZONE D<br><span class="opacity-60 text-[10px]">RM448</span></button>
                    <button onclick="loadZone('E')" class="bg-[#1a4d8c] p-6 rounded-2xl font-black">ZONE E<br><span class="opacity-60 text-[10px]">RM368</span></button>
                    <button onclick="loadZone('F')" class="bg-[#4d94ff] p-6 rounded-2xl font-black">ZONE F<br><span class="opacity-60 text-[10px]">RM298</span></button>
                </div>
                <div id="seat-map" class="hidden flex-1 flex flex-col">
                    <button onclick="closeZone()" class="bg-white/10 w-max px-6 py-2 rounded-full text-[10px] mb-6">‚Üê BACK</button>
                    <div id="seats-container" class="bg-black/40 border border-white/5 relative"></div>
                </div>
            </div>
            <div class="glass rounded-[40px] p-8 text-left flex flex-col sticky top-24 h-[650px]">
                <h3 class="font-black italic mb-6 border-b border-white/10 pb-4 uppercase text-sm tracking-widest text-sky-400">My Selection</h3>
                <div id="cart-items" class="flex-1 space-y-3 overflow-y-auto pr-2 text-[10px]">
                    <p class="opacity-30 italic text-center py-20">Select your seats...</p>
                </div>
                <div class="border-t border-white/10 pt-6 mt-4">
                    <div class="flex justify-between items-end mb-6">
                        <span class="text-[10px] opacity-50 font-bold uppercase">Total Amount</span>
                        <span class="text-3xl font-black">RM <span id="total-price">0</span></span>
                    </div>
                    <button onclick="showBilling()" class="w-full bg-sky-500 hover:bg-sky-400 py-5 rounded-2xl font-black uppercase text-xs tracking-[0.3em]">Checkout Now</button>
                </div>
            </div>
        </div>
    </section>

    <section id="billing-screen" class="hidden py-20 px-6 max-w-xl mx-auto no-print">
        <div class="glass p-10 rounded-[40px] border-sky-500/30">
            <h2 class="text-3xl font-black italic mb-8 uppercase text-center">Billing Details</h2>
            <div class="space-y-4">
                <div><label class="text-[10px] uppercase font-bold opacity-50 ml-2">Full Name</label><input type="text" id="cust-name" placeholder="Enter your name"></div>
                <div><label class="text-[10px] uppercase font-bold opacity-50 ml-2">Phone Number</label><input type="text" id="cust-phone" placeholder="e.g. 0123456789"></div>
                <div><label class="text-[10px] uppercase font-bold opacity-50 ml-2">Payment Method</label>
                    <select id="pay-method">
                        <option value="">-- Select Bank --</option>
                        <option>Maybank2u</option>
                        <option>CIMB Clicks</option>
                        <option>Bank Islam</option>
                        <option>FPX Payment</option>
                    </select>
                </div>
                <button onclick="processPayment()" class="w-full bg-sky-500 py-5 rounded-2xl font-black uppercase text-xs tracking-[0.3em] mt-6">Confirm & Pay</button>
                <button onclick="hideBilling()" class="w-full text-[10px] uppercase font-bold opacity-50 mt-2">Back to Selection</button>
            </div>
        </div>
    </section>

    <section id="ticket-ui" class="hidden py-10 px-6 max-w-5xl mx-auto text-center">
        <div class="no-print mb-10">
            <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="4" d="M5 13l4 4L19 7"></path></svg>
            </div>
            <h2 class="text-3xl font-black italic uppercase">Payment Successful!</h2>
            <p id="order-id" class="text-sky-400 font-mono text-xs mt-1 uppercase opacity-70"></p>
        </div>
        <div id="ticket-container" class="space-y-8"></div>
        <div class="mt-12 no-print flex gap-4 justify-center">
            <button onclick="window.print()" class="bg-white text-black px-12 py-4 rounded-full font-black uppercase text-xs">Print Tickets</button>
            <a href="page3.html" class="bg-sky-500 text-white px-12 py-4 rounded-full font-black uppercase text-xs">Go to Merch</a>
        </div>
    </section>

    <script>
        const cart = [];
        const config = {
            'A': { price: 798, color: '#8b2d2d', type: 'box', rows: 8, cols: 16 },
            'B': { price: 648, color: '#e68a00', type: 'box', rows: 8, cols: 16 },
            'C': { price: 538, color: '#2d8b4a', type: 'box', rows: 8, cols: 16 },
            'D': { price: 448, color: '#5c5c5c', type: 'arc', radius: 160, rows: 5, cols: 25 },
            'E': { price: 368, color: '#1a4d8c', type: 'arc', radius: 240, rows: 6, cols: 35 },
            'F': { price: 298, color: '#4d94ff', type: 'arc', radius: 320, rows: 7, cols: 45 }
        };

        function loadZone(zoneKey) {
            document.getElementById('zone-selector').classList.add('hidden');
            document.getElementById('seat-map').classList.remove('hidden');
            const container = document.getElementById('seats-container');
            container.innerHTML = '';
            const c = config[zoneKey];
            const centerX = container.offsetWidth / 2;
            for(let r=1; r<=c.rows; r++) {
                for(let col=1; col<=c.cols; col++) {
                    const x = centerX - (c.cols * 11) + (col * 22) - 11;
                    const y = 40 + (r * 25);
                    createSeat(container, x, y, zoneKey, r, col);
                }
            }
        }

        function createSeat(container, x, y, zone, r, c) {
            const seat = document.createElement('div');
            const id = `${zone}-${r}-${c}`;
            const isSelected = cart.some(s => s.id === id);
            seat.className = `seat ${isSelected ? 'selected' : ''}`;
            seat.style.left = `${x}px`; seat.style.top = `${y}px`;
            seat.style.backgroundColor = isSelected ? '#fbbf24' : config[zone].color;
            seat.innerText = c;
            seat.onclick = () => {
                const idx = cart.findIndex(s => s.id === id);
                if(idx > -1) { cart.splice(idx, 1); seat.classList.remove('selected'); seat.style.backgroundColor = config[zone].color; }
                else { if(cart.length >= 6) return alert("Max 6 tickets."); cart.push({id, zone, price: config[zone].price, r, c}); seat.classList.add('selected'); seat.style.backgroundColor = '#fbbf24'; }
                updateCart();
            };
            container.appendChild(seat);
        }

        function updateCart() {
            const list = document.getElementById('cart-items');
            const total = document.getElementById('total-price');
            let sum = 0;
            list.innerHTML = cart.length ? '' : '<p class="opacity-30 italic text-center py-20">Select your seats...</p>';
            cart.forEach(s => {
                sum += s.price;
                list.innerHTML += `<div class="bg-white/5 p-4 rounded-2xl mb-2 flex justify-between"><div>ZONE ${s.zone}<br>Row ${s.r} Seat ${s.c}</div><b>RM${s.price}</b></div>`;
            });
            total.innerText = sum.toLocaleString();
        }

        function showBilling() {
            if(!cart.length) return alert("Select seats first!");
            document.getElementById('selection-screen').classList.add('hidden');
            document.getElementById('billing-screen').classList.remove('hidden');
            window.scrollTo(0,0);
        }

        function hideBilling() {
            document.getElementById('billing-screen').classList.add('hidden');
            document.getElementById('selection-screen').classList.remove('hidden');
        }

        function processPayment() {
            const name = document.getElementById('cust-name').value;
            const phone = document.getElementById('cust-phone').value;
            const method = document.getElementById('pay-method').value;
            if(!name || !phone || !method) return alert("Please fill all details.");

            document.getElementById('billing-screen').classList.add('hidden');
            document.getElementById('ticket-ui').classList.remove('hidden');
            document.getElementById('order-id').innerText = "Order: #BE-" + Math.random().toString(36).substr(2,9).toUpperCase();
            
            const ticketContainer = document.getElementById('ticket-container');
            ticketContainer.innerHTML = '';
            cart.forEach(s => {
                ticketContainer.innerHTML += `<div class="concert-ticket"><div class="ticket-data-overlay">
                    <div class="data-item"><div class="label">Zone</div><div class="value">${s.zone}</div></div>
                    <div class="data-item"><div class="label">Row</div><div class="value">${s.r}</div></div>
                    <div class="data-item"><div class="label">Seat</div><div class="value">${s.c}</div></div>
                </div></div>`;
            });
            window.scrollTo(0,0);
        }

        function closeZone() { document.getElementById('seat-map').classList.add('hidden'); document.getElementById('zone-selector').classList.remove('hidden'); }
    </script>
</body>
</html>
