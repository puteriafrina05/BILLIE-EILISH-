<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Billie Eilish | Tickets</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #050a12; color: #e2e8f0; background: linear-gradient(to bottom, rgba(5, 10, 18, 0.9), rgba(5, 10, 18, 0.9)), url('new background 2.jpg'); background-size: cover; background-position: center; min-height: 100vh; }
        .glass { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); }
        .seat { width: 12px; height: 12px; border-radius: 2px; cursor: pointer; transition: 0.2s; }
        .seat:hover { transform: scale(1.2); }
        .seat.selected { background: #38bdf8 !important; box-shadow: 0 0 10px #38bdf8; }
        input, select { background: rgba(0, 0, 0, 0.5) !important; color: white !important; border: 1px solid rgba(255,255,255,0.2) !important; padding: 10px; border-radius: 8px; width: 100%; outline: none; }
        @media print { .no-print { display: none; } body { background: white; color: black; } }
    </style>
</head>
<body>
    <nav class="w-full py-4 px-10 glass flex justify-between items-center text-[10px] tracking-widest uppercase font-bold sticky top-0 z-50 no-print">
        <div class="text-xl italic">Billie Eilish</div>
        <div class="space-x-8">
            <a href="page1.html">Home</a>
            <a href="page2.html" class="underline underline-offset-8 decoration-sky-500 text-sky-400">Tickets</a>
            <a href="page3.html">Merchandise</a>
            <a href="page4.html">Media</a>
        </div>
        <audio controls autoplay><source src="birds of a feather song.mp3" type="audio/mpeg"></audio>
    </nav>

    <section id="selectionSection" class="py-20 px-6 max-w-6xl mx-auto text-center no-print">
        <h2 class="text-4xl font-black italic mb-12 uppercase">Select Your Seats</h2>
        <div class="glass p-10 rounded-[40px] mb-12">
            <div class="w-1/2 h-4 bg-sky-500 mx-auto mb-16 rounded-b-full shadow-[0_10px_30px_rgba(56,189,248,0.3)]"></div>
            <div id="seatGrid" class="grid grid-cols-20 gap-2 justify-center"></div>
        </div>
        <div class="flex justify-between items-center glass p-8 rounded-3xl">
            <div class="text-left">
                <p class="text-xs uppercase opacity-60">Total Amount</p>
                <p class="text-3xl font-black text-sky-400">RM <span id="totalPrice">0</span></p>
            </div>
            <button onclick="showBillingForm()" class="bg-white text-black px-12 py-4 rounded-full font-black uppercase text-xs hover:bg-sky-400 transition">Checkout Now</button>
        </div>
    </section>

    <section id="billingSection" class="hidden py-20 px-6 max-w-lg mx-auto no-print">
        <div class="glass p-8 rounded-3xl">
            <h3 class="text-xl font-bold mb-6 border-b border-white/20 pb-2 uppercase">Billing Details</h3>
            <div class="space-y-4">
                <input type="text" id="custName" placeholder="Full Name">
                <input type="text" id="custPhone" placeholder="Phone Number">
                <select id="paymentMethod">
                    <option value="">-- Select Payment Method --</option>
                    <option>Maybank2u</option>
                    <option>CIMB Clicks</option>
                    <option>Bank Islam</option>
                    <option>Credit/Debit Card</option>
                </select>
                <button onclick="generateTicket()" class="bg-sky-500 w-full py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-sky-400 transition">Confirm & Generate Ticket</button>
                <button onclick="backToSeats()" class="w-full text-xs uppercase opacity-50">Back to Seat Selection</button>
            </div>
        </div>
    </section>

    <div id="ticketSlip" class="hidden max-w-2xl mx-auto my-10 p-10 glass rounded-3xl border-2 border-sky-500 text-left">
        <h1 class="text-3xl font-black italic text-center mb-2">OFFICIAL CONCERT TICKET</h1>
        <p class="text-center text-[10px] tracking-widest opacity-70 mb-8 uppercase">Hit Me Hard and Soft: The Tour 2026</p>
        
        <div class="grid grid-cols-2 gap-6 text-sm">
            <div>
                <p class="opacity-50 text-[10px] uppercase font-bold">Customer Name</p>
                <p id="dispName" class="text-lg font-bold"></p>
            </div>
            <div>
                <p class="opacity-50 text-[10px] uppercase font-bold">Order ID</p>
                <p id="dispOrderID" class="text-lg font-mono text-sky-400"></p>
            </div>
            <div>
                <p class="opacity-50 text-[10px] uppercase font-bold">Venue</p>
                <p>Bukit Jalil National Stadium, KL</p>
            </div>
            <div>
                <p class="opacity-50 text-[10px] uppercase font-bold">Payment Via</p>
                <p id="dispPayment"></p>
            </div>
        </div>

        <div class="border-y border-white/20 py-4 my-6">
            <p class="opacity-50 text-[10px] uppercase font-bold mb-2">Seats Allocated</p>
            <p id="dispSeats" class="text-xl font-black tracking-widest italic"></p>
        </div>

        <div class="flex justify-between items-end">
            <div class="text-[10px] opacity-40 uppercase">
                <p>Please bring this slip during entry.</p>
                <p>Â© 2026 Billie Eilish Tour</p>
            </div>
            <div class="text-right">
                <p class="text-[10px] uppercase opacity-50">Total Paid</p>
                <p class="text-2xl font-black text-sky-400">RM <span id="dispTotal"></span></p>
            </div>
        </div>

        <div class="mt-10 flex justify-center gap-4 no-print">
            <button onclick="window.print()" class="bg-white text-black px-8 py-2 rounded-full font-bold uppercase text-xs">Print Ticket</button>
            <button onclick="location.reload()" class="border border-white/30 px-8 py-2 rounded-full font-bold uppercase text-xs">New Purchase</button>
        </div>
    </div>

    <script>
        const grid = document.getElementById('seatGrid');
        let selectedSeats = [];
        const pricePerSeat = 598;

        // Generate Original Seat Grid
        for (let i = 1; i <= 100; i++) {
            const seat = document.createElement('div');
            seat.className = 'seat bg-white/10';
            seat.onclick = () => {
                seat.classList.toggle('selected');
                const seatNum = i;
                if (seat.classList.contains('selected')) {
                    selectedSeats.push(seatNum);
                } else {
                    selectedSeats = selectedSeats.filter(s => s !== seatNum);
                }
                document.getElementById('totalPrice').innerText = selectedSeats.length * pricePerSeat;
            };
            grid.appendChild(seat);
        }

        function showBillingForm() {
            if (selectedSeats.length === 0) {
                alert("Please select at least one seat!");
                return;
            }
            document.getElementById('selectionSection').classList.add('hidden');
            document.getElementById('billingSection').classList.remove('hidden');
        }

        function backToSeats() {
            document.getElementById('billingSection').classList.add('hidden');
            document.getElementById('selectionSection').classList.remove('hidden');
        }

        function generateTicket() {
            const name = document.getElementById('custName').value;
            const phone = document.getElementById('custPhone').value;
            const pay = document.getElementById('paymentMethod').value;

            if (!name || !phone || !pay) {
                alert("Please fill all billing details!");
                return;
            }

            // Hide everything else
            document.getElementById('billingSection').classList.add('hidden');
            
            // Fill Slip Data
            document.getElementById('dispName').innerText = name;
            document.getElementById('dispPayment').innerText = pay;
            document.getElementById('dispSeats').innerText = selectedSeats.join(', ');
            document.getElementById('dispTotal').innerText = selectedSeats.length * pricePerSeat;
            document.getElementById('dispOrderID').innerText = "BE-" + Math.floor(Math.random() * 900000 + 100000);

            // Show Ticket
            document.getElementById('ticketSlip').classList.remove('hidden');
            window.scrollTo(0,0);
        }
    </script>
</body>
</html>
